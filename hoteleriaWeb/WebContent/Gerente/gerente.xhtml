<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<f:metadata>
	<f:event listener="#{beanLogin.actionVerificarLogin()}"
		type="preRenderView"></f:event>
</f:metadata>
<h:head>
<f:facet name="first">
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no " />
		<title>Listado de reservas</title>
	</f:facet>
</h:head> 
<body> 
<p:growl>
		<p:autoUpdate />
	</p:growl>
	<h:form>
		<p:menubar>
			<p:menuitem value="Gerente" action="index" icon="fa fa-gears"></p:menuitem>
			<p:menuitem value="Clientes" action="cliente" icon="fa fa-group"></p:menuitem>
			<p:menuitem value="Reservas" action="gerente" icon="fa fa-bed"></p:menuitem>
			<p:menuitem value="Finanzas" action="finanzas" icon="fa fa-bar-chart"></p:menuitem>
			<p:menuitem value="Lista de Precios" action="Precios" icon="fa fa-bars"></p:menuitem>
			<f:facet name="options">
				<p:commandButton value="Salir" action="#{beanLogin.salirSistema()}"
					icon="fa fa-sign-out" />
			</f:facet>
		</p:menubar>
	</h:form>
	<br/>
	<h:form id="form2">
		<p:panel header="Listado de reservas">
	<p:dataTable value="#{beanReservas.listaFacDetalles}" var="detalles">
				
				<p:column headerText="Código reserva" style="width:50px">
					<h:outputText value="#{detalles.facReserva.idreserva}" />
				</p:column>
				<p:column headerText="Nombre usuario">
					<h:outputText
						value="#{detalles.facReserva.invUsuario.nombresusuario} #{detalles.facReserva.invUsuario.apellidosusuario}" />
				</p:column>
				<p:column headerText="Número habitación">
					<h:outputText value="#{detalles.invHabitacione.numerohabitacion}" />
				</p:column>
				<p:column headerText="Tipo habitación">
					<h:outputText
						value="#{detalles.invHabitacione.invTiposhabitacione.nombretipohabitacion}" />
				</p:column>
				<p:column headerText="Dias de estadia">
					<h:outputText value="#{detalles.diasestadia}" />
				</p:column>
				<p:column headerText="Fecha uso">
					<h:outputText value="#{detalles.fechauso}" />
				</p:column>
				<p:column headerText="Estado reserva" style="width:50px">
					<h:outputText value="#{detalles.estadoreserva}" />
				</p:column>
			</p:dataTable>
		</p:panel>
	</h:form>


</body> 
</html>
